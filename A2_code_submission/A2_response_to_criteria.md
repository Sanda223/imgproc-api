Assignment 2 - Cloud Services Exercises - Response to Criteria
================================================

Overview
------------------------------------------------

- **Name:** Sandaru Nakandage  
- **Student number:** n11594128  
- **Partner name (if applicable):** No Partner
- **Application name:** Image Processing API  
- **Two line description:** This cloud-based image processing application allows authenticated users to upload, process, and download images through an AWS-hosted API using S3, DynamoDB, and Parameter Store.  
- **EC2 instance name or ID:** ID: i-08078c0a4c277735a 

------------------------------------------------

### Core - First data persistence service

- **AWS service name:** Amazon S3  
- **What data is being stored?:** Input and output image files generated by the processing pipeline.  
- **Why is this service suited to this data?:** S3 provides durable, scalable, and cost-effective object storage for large binary files such as images.  
- **Why are the other services used not suitable for this data?:** DynamoDB and Parameter Store are designed for structured or configuration data rather than large binary objects.  
- **Bucket/instance/table name:** a2-n11594128-imgproc-bucket  
- **Video timestamp:** : 00:16 - 01:18
- **Relevant files:**  
    - `src/services/s3.service.ts`  
    - `src/routes/jobs.routes.ts`  
    - `src/services/process.ts`  

---

### Core - Second data persistence service

- **AWS service name:** Amazon DynamoDB  
- **What data is being stored?:** Job metadata including job ID, user ID, status, S3 keys, and timestamps.  
- **Why is this service suited to this data?:** DynamoDB is optimised for fast lookups of structured data and supports scalable, low-latency access for JSON-style records.  
- **Why are the other services used not suitable for this data?:** S3 cannot efficiently query or index structured records, and Parameter Store is intended for static configuration data, not dynamic job metadata.  
- **Bucket/instance/table name:** a2-n11594128-jobs  
- **Video timestamp:** 01:18 - 02:24 
- **Relevant files:**  
    - `src/data/jobs.ddb.ts`  
    - `src/routes/jobs.routes.ts`  

---

### Third data service

- **AWS service name:** AWS Systems Manager Parameter Store  
- **What data is being stored?:** Application configuration parameters such as the API base URL and AWS region.  
- **Why is this service suited to this data?:** Parameter Store securely manages environment variables and app configuration centrally across AWS services.  
- **Why are the other services used not suitable for this data?:** DynamoDB and S3 are optimised for dynamic or large data, not key-value configuration storage.  
- **Bucket/instance/table name:** /a2-n11594128/BASE_URL, /a2-n11594128/REGION  
- **Video timestamp:** 02:24 - 02:50
- **Relevant files:**  
    - `src/config.ts`  
    - `src/server.ts`  

---

### S3 Pre-signed URLs

- **S3 Bucket names:** a2-n11594128-imgproc-bucket  
- **Video timestamp:** 05:04 - 05:27
- **Relevant files:**  
    - `src/services/s3.service.ts`  
    - `src/routes/jobs.routes.ts`  
    - `public/main.js`  

---

### In-memory cache

- **ElastiCache instance name:** Local in-memory cache (Node.js Map-based cache implementation)  
- **What data is being cached?:** Recent DynamoDB query results for the "list jobs" endpoint.  
- **Why is this data likely to be accessed frequently?:** Users often refresh their job lists, so caching avoids repeated DynamoDB lookups and improves response time.  
- **Video timestamp:** 05:28 - 05:50
- **Relevant files:**  
    - `src/routes/jobs.routes.ts`  
    - `src/services/cache.ts`  

---

### Core - Statelessness

- **What data is stored within your application that is not stored in cloud data services?:** Only short-lived job objects and cache entries in server memory.  
- **Why is this data not considered persistent state?:** Cached data is ephemeral and can be regenerated from DynamoDB or S3 if lost.  
- **How does your application ensure data consistency if the app suddenly stops?:** Persistent data (jobs and images) are already written to S3 and DynamoDB before processing completion, ensuring no data loss if the instance restarts.  
- **Relevant files:**  
    - `src/routes/jobs.routes.ts`  
    - `src/services/cache.ts`  

---

### Graceful handling of persistent connections

- **Type of persistent connection and use:** HTTPS API requests via fetch (stateless; no WebSocket or streaming connections).  
- **Method for handling lost connections:** The client gracefully handles failures using try/catch and `safeJson()` to avoid crashes when fetch requests fail.  
- **Relevant files:**  
    - `public/main.js`  

---

### Core - Authentication with Cognito

- **User pool name:** ap-southeast-2_OtAS6vU92  
- **How are authentication tokens handled by the client?:** Upon login, a Cognito JWT token is stored in localStorage and added to the `Authorization` header for all API requests.  
- **Video timestamp:** 02:55 - 04:08
- **Relevant files:**  
    - `src/middleware/auth.ts`  
    - `public/main.js`  

---

### Cognito multi-factor authentication

- **What factors are used for authentication:** —  

---

### Cognito federated identities

- **Identity providers used:** —  

---

### Cognito groups

- **How are groups used to set permissions?:** —  

---

### Core - DNS with Route53

- **Subdomain:** a2-n11594128.cab432.com  
- **Video timestamp:** 04:09 - 04:59

---

### Parameter store

- **Parameter names:** /a2-n11594128/BASE_URL, /a2-n11594128/REGION  
- **Video timestamp:** 02:25 - 02:52
- **Relevant files:**  
    - `src/config.ts`  
    - `src/server.ts`  

---

### Secrets manager

- **Secrets names:** /a2-n11594128/cognito/app-secret  
- **Video timestamp:** 05:55 - 06:11
- **Relevant files:**  
    - `src/config.ts`  
    - `src/services/auth.service.ts`  

---

### Infrastructure as code

- **Technology used:** —  
- **Services deployed:** —  

---

### Other (with prior approval only)

- **Description:** —  

---

### Other (with prior permission only)

- **Description:** —  